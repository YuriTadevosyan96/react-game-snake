(this["webpackJsonpreact-game-snake"]=this["webpackJsonpreact-game-snake"]||[]).push([[0],{101:function(e,r,t){},109:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t(29),o=t.n(a),c=(t(100),t(101),t(72)),s=t(73),i=t(13),l=t(123),d=t(80),u=t(79),j=t(44),m=t(126),O=t(2),f=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(l.a,{children:[Object(O.jsx)(d.a,{style:{paddingBottom:0},children:Object(O.jsx)(u.a,{textAlign:"center",children:Object(O.jsx)(j.a,{name:"arrow alternate circle up outline",size:"huge",color:"grey"})})}),Object(O.jsx)(d.a,{children:Object(O.jsxs)(u.a,{textAlign:"center",children:[Object(O.jsx)(j.a,{name:"arrow alternate circle left outline",size:"huge",color:"grey"}),Object(O.jsx)(j.a,{name:"arrow alternate circle down outline",size:"huge",color:"grey"}),Object(O.jsx)(j.a,{name:"arrow alternate circle right outline",size:"huge",color:"grey"})]})})]}),Object(O.jsx)(m.a,{textAlign:"center",as:"h3",color:"grey",children:"Use arrow keys on keyboard to control the game"})]})},b=t(66),x=t.n(b),h=function(e){var r=e.isFoodCell,t=e.isSnakeBodyPart,n=[x.a.GameBoardCell];return r?n.push(x.a.FoodCell):t&&n.push(x.a.SnakeBodyPart),Object(O.jsx)("div",{className:n.join(" ")})},C=function(e){var r=e.totalCellAmount,t=e.foodCellIndex,n=e.snakeBodyIndexes,a=e.isMaxScoreReached;return new Array(r).fill().map((function(e,r){var o=n.some((function(e){return e===r}));return a&&(o=!0),Object(O.jsx)(h,{isFoodCell:t===r&&!a,isSnakeBodyPart:o},r)}))},_=t(83),y=t.n(_),E=function(e){var r=e.gameBoardRows,t=e.gameBoardColumns,n=e.totalCellAmount,a=e.foodCellIndex,o=e.snakeBodyIndexes,c=e.isMaxScoreReached,s={gridTemplateRows:"repeat(".concat(r,", 1fr)"),gridTemplateColumns:"repeat(".concat(t,", 1fr)")};return Object(O.jsx)("div",{style:s,className:y.a.GameBoard,children:Object(O.jsx)(C,{totalCellAmount:n,snakeBodyIndexes:o,foodCellIndex:a,isMaxScoreReached:c})})},g=t(84),k=t.n(g),A=function(){return Object(O.jsx)("h2",{className:k.a.GameOver,children:"GAME OVER"})},I=t(124),G=function(e){var r=e.handler,t=e.isStart;return Object(O.jsx)(l.a,{children:Object(O.jsx)(d.a,{children:Object(O.jsx)(u.a,{textAlign:"center",children:Object(O.jsx)(I.a,{size:"huge",onClick:r,children:t?"Start Game":"Restart Game"})})})})},S=t(85),p=t.n(S),v=function(e){var r=e.score,t=e.isMaxScoreReached;return Object(O.jsxs)("h2",{className:p.a.Score,children:[t?"Congratulations you reached maximum score ":"Current Score: ",r]})},B={snakeBodyCords:[{row:5,column:6,direction:"UP"},{row:6,column:6,direction:"UP"}],snakeHeadDirection:"UP",gameScore:0,foodCellIndex:null,gameOver:!1,isMaxScoreReached:!1,startGame:!1,restartGame:{}},R=function(e,r){var t=r.type,n=r.payload;switch(t){case"START_GAME":return w();case"SET_FOOD_CELL_INITIAL_INDEX":return T(e);case"CHANGE_SNAKE_HEAD_DIRECTION":return D(e,n);case"RUN_GAME_LOGIC":return z(e);case"RESTART_GAME":return N();default:throw new Error("Unknown action type provided!")}},w=function(){return Object(i.a)(Object(i.a)({},B),{},{startGame:!0})},N=function(){return Object(i.a)(Object(i.a)({},B),{},{startGame:!0,restartGame:{}})},T=function(e){return Object(i.a)(Object(i.a)({},e),{},{foodCellIndex:F(e.snakeBodyCords)})},D=function(e,r){var t=Object(s.a)(e.snakeBodyCords);return t[0]=Object(i.a)(Object(i.a)({},t[0]),{},{direction:r}),Object(i.a)(Object(i.a)({},e),{},{snakeBodyCords:t,snakeHeadDirection:r})},M=function(){return Math.floor(110*Math.random())},H=function(e){return 11*(e.row-1)+e.column-1},L=function(e,r){return e.some((function(e){return H(e)===r}))},F=function(e){for(var r=M();L(e,r);)console.log("random index cell regenerate"),r=M();return r},U=function(e){return e.map((function(e){return H(e)}))},P=function(e){var r=e[0];return function(e){var r=e.row,t=e.column;return 0===r||11===r||0===t||12===t}(r)||function(e,r){for(var t=1;t<e.length;t++)if(H(e[t])===H(r))return!0}(e,r)},z=function(e){var r=e.snakeBodyCords,t=e.snakeHeadDirection,n=e.foodCellIndex,a=e.gameScore,o=function(e,r){for(var t,n=[],a=function(e,r,t){n.push({direction:e,row:r,column:t})},o=0;o<e.length;o++){var c=e[o],s=c.row,i=c.column,l=c.direction;switch(t=o>0?e[o-1].direction:r,l){case"UP":a(t,s-1,i);break;case"DOWN":a(t,s+1,i);break;case"LEFT":a(t,s,i-1);break;case"RIGHT":a(t,s,i+1)}}return n}(r,t);return function(e,r){var t=e[0];if(109===e.length&&H(t)===r)return!0}(o,n)?Object(i.a)(Object(i.a)({},e),{},{isMaxScoreReached:!0,gameScore:a+1}):P(o)?Object(i.a)(Object(i.a)({},e),{},{gameOver:!0}):function(e,r){return H(e)===r}(o[0],n)?function(e,r){var t=[r].concat(Object(s.a)(e.snakeBodyCords));return Object(i.a)(Object(i.a)({},e),{},{snakeBodyCords:t,foodCellIndex:F(t),gameScore:e.gameScore+1})}(e,o[0]):Object(i.a)(Object(i.a)({},e),{},{snakeBodyCords:o})},K=function(){var e=Object(n.useReducer)(R,B),r=Object(c.a)(e,2),t=r[0],a=r[1],o=Object(n.useState)(null),s=Object(c.a)(o,2),i=s[0],l=s[1],d=t.snakeBodyCords,u=t.snakeHeadDirection,j=t.gameScore,m=t.foodCellIndex,b=t.gameOver,x=t.isMaxScoreReached,h=t.startGame,C=t.restartGame,_=Object(n.useCallback)((function(e){var r="UP"===u||"DOWN"===u,t="LEFT"===u||"RIGHT"===u;switch(e.key){case"ArrowUp":t&&a({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"UP"});break;case"ArrowDown":t&&a({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"DOWN"});break;case"ArrowLeft":r&&a({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"LEFT"});break;case"ArrowRight":r&&a({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"RIGHT"})}}),[u]);return Object(n.useEffect)((function(){if(h){a({type:"SET_FOOD_CELL_INITIAL_INDEX"});var e=setInterval((function(){a({type:"RUN_GAME_LOGIC"})}),500);return l(e),function(){return clearInterval(e)}}}),[C,h]),Object(n.useEffect)((function(){return(b||x)&&clearInterval(i),document.addEventListener("keydown",_,{once:!0}),function(){return document.removeEventListener("keydown",_,{once:!0})}}),[d]),Object(O.jsxs)(O.Fragment,{children:[b&&Object(O.jsx)(A,{}),!h&&Object(O.jsx)(f,{}),Object(O.jsx)(v,{score:j,isMaxScoreReached:x}),!h&&Object(O.jsx)(G,{isStart:!0,handler:function(){return function(e){e({type:"START_GAME"})}(a)}}),b&&Object(O.jsx)(G,{handler:function(){return function(e){e({type:"RESTART_GAME"})}(a)}}),Object(O.jsx)(E,{gameBoardRows:10,gameBoardColumns:11,totalCellAmount:110,foodCellIndex:m,isMaxScoreReached:x,snakeBodyIndexes:U(d)})]})},X=function(){return Object(O.jsx)(K,{})};o.a.render(Object(O.jsx)(X,{}),document.getElementById("root"))},66:function(e,r,t){e.exports={GameBoardCell:"GameBoardCell_GameBoardCell__2xIBz",FoodCell:"GameBoardCell_FoodCell__1MRRB",SnakeBodyPart:"GameBoardCell_SnakeBodyPart__2X-Qo"}},83:function(e,r,t){e.exports={GameBoard:"GameBoard_GameBoard__1-rkU"}},84:function(e,r,t){e.exports={GameOver:"GameOver_GameOver__1baa_"}},85:function(e,r,t){e.exports={Score:"Score_Score__cfuHX"}}},[[109,1,2]]]);
//# sourceMappingURL=main.27776b5f.chunk.js.map