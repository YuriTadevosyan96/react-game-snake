(this["webpackJsonpreact-game-snake"]=this["webpackJsonpreact-game-snake"]||[]).push([[0],{101:function(e,r,n){},109:function(e,r,n){"use strict";n.r(r);var a=n(0),t=n(29),o=n.n(t),c=(n(100),n(101),n(72)),s=n(73),l=n(13),d=n(123),i=n(80),u=n(79),j=n(44),m=n(126),O=n(2),f=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.a,{children:[Object(O.jsx)(i.a,{style:{paddingBottom:0},children:Object(O.jsx)(u.a,{textAlign:"center",children:Object(O.jsx)(j.a,{name:"arrow alternate circle up outline",size:"huge",color:"grey"})})}),Object(O.jsx)(i.a,{children:Object(O.jsxs)(u.a,{textAlign:"center",children:[Object(O.jsx)(j.a,{name:"arrow alternate circle left outline",size:"huge",color:"grey"}),Object(O.jsx)(j.a,{name:"arrow alternate circle down outline",size:"huge",color:"grey"}),Object(O.jsx)(j.a,{name:"arrow alternate circle right outline",size:"huge",color:"grey"})]})})]}),Object(O.jsx)(m.a,{textAlign:"center",as:"h3",color:"grey",children:"Use arrow keys on keyboard to control the game"})]})},b=n(51),x=n.n(b),C=function(e){var r=e.isFoodCell,n=e.isSnakeBodyPart,a=e.isSnakeHead,t=[x.a.GameBoardCell];return a?t.push(x.a.SnakeHead):n?t.push(x.a.SnakeBodyPart):r&&t.push(x.a.FoodCell),Object(O.jsx)("div",{className:t.join(" ")})},h=function(e){var r=e.totalCellAmount,n=e.foodCellIndex,a=e.snakeBodyIndexes,t=e.isMaxScoreReached;return new Array(r).fill().map((function(e,r){var o=a.some((function(e){return e===r}));return t&&(o=!0),Object(O.jsx)(C,{isSnakeHead:a[0]===r,isFoodCell:n===r,isSnakeBodyPart:o},r)}))},_=n(83),y=n.n(_),k=function(e){var r=e.gameBoardRows,n=e.gameBoardColumns,a=e.totalCellAmount,t=e.foodCellIndex,o=e.snakeBodyIndexes,c=e.isMaxScoreReached,s={gridTemplateRows:"repeat(".concat(r,", 1fr)"),gridTemplateColumns:"repeat(".concat(n,", 1fr)")};return Object(O.jsx)("div",{style:s,className:y.a.GameBoard,children:Object(O.jsx)(h,{totalCellAmount:a,snakeBodyIndexes:o,foodCellIndex:t,isMaxScoreReached:c})})},E=n(84),S=n.n(E),g=function(){return Object(O.jsx)("h2",{className:S.a.GameOver,children:"GAME OVER"})},G=n(124),A=function(e){var r=e.handler,n=e.isStart;return Object(O.jsx)(d.a,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(u.a,{textAlign:"center",children:Object(O.jsx)(G.a,{size:"huge",onClick:r,children:n?"Start Game":"Restart Game"})})})})},I=n(85),p=n.n(I),B=function(e){var r=e.score,n=e.isMaxScoreReached;return Object(O.jsxs)("h2",{className:p.a.Score,children:[n?"Congratulations you reached maximum score ":"Current Score: ",r]})},v={snakeBodyCords:[{row:5,column:6,direction:"UP"},{row:6,column:6,direction:"UP"}],snakeHeadDirection:"UP",gameScore:0,foodCellIndex:null,gameOver:!1,isMaxScoreReached:!1,startGame:!1,restartGame:{}},R=function(e,r){var n=r.type,a=r.payload;switch(n){case"START_GAME":return w();case"SET_FOOD_CELL_INITIAL_INDEX":return T(e);case"CHANGE_SNAKE_HEAD_DIRECTION":return H(e,a);case"RUN_GAME_LOGIC":return z(e);case"RESTART_GAME":return N();default:throw new Error("Unknown action type provided!")}},w=function(){return Object(l.a)(Object(l.a)({},v),{},{startGame:!0})},N=function(){return Object(l.a)(Object(l.a)({},v),{},{startGame:!0,restartGame:{}})},T=function(e){return Object(l.a)(Object(l.a)({},e),{},{foodCellIndex:F(e.snakeBodyCords)})},H=function(e,r){var n=Object(s.a)(e.snakeBodyCords);return n[0]=Object(l.a)(Object(l.a)({},n[0]),{},{direction:r}),Object(l.a)(Object(l.a)({},e),{},{snakeBodyCords:n,snakeHeadDirection:r})},D=function(){return Math.floor(110*Math.random())},M=function(e){return 11*(e.row-1)+e.column-1},L=function(e,r){return e.some((function(e){return M(e)===r}))},F=function(e){for(var r=D();L(e,r);)console.log("random index cell regenerate"),r=D();return r},P=function(e){return e.map((function(e){return M(e)}))},U=function(e){var r=e[0];return function(e){var r=e.row,n=e.column;return 0===r||11===r||0===n||12===n}(r)||function(e,r){for(var n=1;n<e.length;n++)if(M(e[n])===M(r))return!0}(e,r)},z=function(e){var r=e.snakeBodyCords,n=e.snakeHeadDirection,a=e.foodCellIndex,t=e.gameScore,o=function(e,r){for(var n,a=[],t=function(e,r,n){a.push({direction:e,row:r,column:n})},o=0;o<e.length;o++){var c=e[o],s=c.row,l=c.column,d=c.direction;switch(n=o>0?e[o-1].direction:r,d){case"UP":t(n,s-1,l);break;case"DOWN":t(n,s+1,l);break;case"LEFT":t(n,s,l-1);break;case"RIGHT":t(n,s,l+1)}}return a}(r,n);return function(e,r){var n=e[0];if(109===e.length&&M(n)===r)return!0}(o,a)?Object(l.a)(Object(l.a)({},e),{},{snakeBodyCords:o,isMaxScoreReached:!0,gameScore:t+1}):U(o)?Object(l.a)(Object(l.a)({},e),{},{gameOver:!0}):function(e,r){return M(e)===r}(o[0],a)?function(e,r){var n=[r].concat(Object(s.a)(e.snakeBodyCords));return Object(l.a)(Object(l.a)({},e),{},{snakeBodyCords:n,foodCellIndex:F(n),gameScore:e.gameScore+1})}(e,o[0]):Object(l.a)(Object(l.a)({},e),{},{snakeBodyCords:o})},K=function(){var e=Object(a.useReducer)(R,v),r=Object(c.a)(e,2),n=r[0],t=r[1],o=Object(a.useState)(null),s=Object(c.a)(o,2),l=s[0],d=s[1],i=n.snakeBodyCords,u=n.snakeHeadDirection,j=n.gameScore,m=n.foodCellIndex,b=n.gameOver,x=n.isMaxScoreReached,C=n.startGame,h=n.restartGame,_=Object(a.useCallback)((function(e){var r="UP"===u||"DOWN"===u,n="LEFT"===u||"RIGHT"===u;switch(e.key){case"ArrowUp":n&&t({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"UP"});break;case"ArrowDown":n&&t({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"DOWN"});break;case"ArrowLeft":r&&t({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"LEFT"});break;case"ArrowRight":r&&t({type:"CHANGE_SNAKE_HEAD_DIRECTION",payload:"RIGHT"})}}),[u]);return Object(a.useEffect)((function(){if(C){t({type:"SET_FOOD_CELL_INITIAL_INDEX"});var e=setInterval((function(){t({type:"RUN_GAME_LOGIC"})}),500);return d(e),function(){return clearInterval(e)}}}),[h,C]),Object(a.useEffect)((function(){return(b||x)&&clearInterval(l),document.addEventListener("keydown",_,{once:!0}),function(){return document.removeEventListener("keydown",_,{once:!0})}}),[i,x]),Object(O.jsxs)(O.Fragment,{children:[b&&Object(O.jsx)(g,{}),!C&&Object(O.jsx)(f,{}),Object(O.jsx)(B,{score:j,isMaxScoreReached:x}),!C&&Object(O.jsx)(A,{isStart:!0,handler:function(){return function(e){e({type:"START_GAME"})}(t)}}),b||x?Object(O.jsx)(A,{handler:function(){return function(e){e({type:"RESTART_GAME"})}(t)}}):null,Object(O.jsx)(k,{gameBoardRows:10,gameBoardColumns:11,totalCellAmount:110,foodCellIndex:m,isMaxScoreReached:x,snakeBodyIndexes:P(i)})]})},X=function(){return Object(O.jsx)(K,{})};o.a.render(Object(O.jsx)(X,{}),document.getElementById("root"))},51:function(e,r,n){e.exports={GameBoardCell:"GameBoardCell_GameBoardCell__2xIBz",FoodCell:"GameBoardCell_FoodCell__1MRRB",SnakeBodyPart:"GameBoardCell_SnakeBodyPart__2X-Qo",SnakeHead:"GameBoardCell_SnakeHead__Gs9MP"}},83:function(e,r,n){e.exports={GameBoard:"GameBoard_GameBoard__1-rkU"}},84:function(e,r,n){e.exports={GameOver:"GameOver_GameOver__1baa_"}},85:function(e,r,n){e.exports={Score:"Score_Score__cfuHX"}}},[[109,1,2]]]);
//# sourceMappingURL=main.f2288e78.chunk.js.map